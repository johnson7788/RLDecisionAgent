## SFT的lora模型输出的日志
[INFO:swift] {'num_prompt_tokens': 0, 'num_generated_tokens': 0, 'num_samples': 0, 'runtime': 20.02012466, 'samples/s': 0.0, 'tokens/s': 0.0}
INFO:     127.0.0.1:32944 - "POST /v1/chat/completions HTTP/1.1" 200 OK
[INFO:swift] {'response': '<tool_call>\n{"name": "get_current_time", "arguments": {}}\n</tool_call>', 'infer_request': {'messages': [{'content': "\n你是一位擅长应对复杂问题的助手，具备高级推理能力和信息检索能力。你的任务是理解并拆解用户的问题，积极调用搜索工具获取足够高质量的信息，再进行全面、准确、可信的回答。\n请严格遵循以下规则：\n1. 深度理解问题：理解用户提出的问题核心，可在必要时进行分解、重构或澄清，确保回答覆盖全部用户关 心的点；\n2. 充分使用多个搜索工具['get_current_date', 'get_current_time', 'get_auction_price', 'get_factory_prices', 'get_lng_price']，你可以多 轮搜索，直到获取充分、权威且相关的信息，避免仅基于初步结果回答；\n3. 高质量整合：结合搜索内容，使用你自己的语言输出结构清晰、信息全面、有逻辑支 撑的答案，不要只复述资料，而应体现归纳、比较和推理能力；\n4. 坦诚应对不确定性：如果在检索中找不到明确答案，应如实说明，并基于现有信息提出合理推 测、分析路径或建议；\n6. 鼓励详细阐述：回答时应尽量详尽，包括背景信息、可能的多种观点或方法、优缺点分析等，避免简略回答或仅下结论。\n8. 不要在回答结束时列出所有参考的引用来源。\n    ", 'role': 'system'}, {'content': '现在的具体时间是多少？', 'role': 'user'}], 'images': [], 'audios': [], 'videos': [], 'tools': [{'type': 'function', 'function': {'name': 'get_current_date', 'description': '返回今天的日期，格式为YYYY-MM-DD。', 'parameters': {'properties': {}, 'type': 'object'}}}, {'type': 'function', 'function': {'name': 'get_current_time', 'description': '返回当前时间，格 式为HH:MM:SS。', 'parameters': {'properties': {}, 'type': 'object'}}}, {'type': 'function', 'function': {'name': 'get_auction_price', 'description': "获取指定省份在指定日期范围内的原料气竞拍价格。\n返回示例，单位价格是每立方米/元\n{'2025-09-25': 3.06, '2025-09-26': 3.18, '2025-09-27': 3.1}", 'parameters': {'properties': {'province': {'type': 'string'}, 'start_date': {'type': 'string'}, 'end_date': {'type': 'string'}}, 'required': ['province', 'start_date', 'end_date'], 'type': 'object'}}}, {'type': 'function', 'function': {'name': 'get_factory_prices', 'description': " 获取指定工厂列表在指定日期范围内的出厂价格，单位每吨/元。\n返回示例输出：\n{'2025-09-25': {'内蒙古工厂A': 6124, '内蒙古工厂B': 5899}, '2025-09-26': {'内蒙古工厂A': 5898, '内蒙古工厂B': 5919}, '2025-09-27': {'内蒙古工厂A': 6069, '内蒙古工厂B': 6050}}", 'parameters': {'properties': {'factory_names': {'items': {'type': 'string'}, 'type': 'array'}, 'start_date': {'type': 'string'}, 'end_date': {'type': 'string'}}, 'required': ['factory_names', 'start_date', 'end_date'], 'type': 'object'}}}, {'type': 'function', 'function': {'name': 'get_lng_price', 'description': "获取指定 地区从 start_date 到 end_date（默认今天）的每日 LNG 价格。\n- 基于月度基准价 + 小幅波动。\n返回示例：\n[{'date': '2025-04-01', 'price': 4.55}, {'date': '2025-04-02', 'price': 4.53}, {'date': '2025-04-03', 'price': 4.55}, {'date': '2025-04-04', 'price': 4.49}, {'date': '2025-04-05', 'price': 4.46}, {'date': '2025-04-06', 'price': 4.53}, {'date': '2025-04-07', 'price': 4.5}]", 'parameters': {'properties': {'region': {'type': 'string'}, 'start_date': {'type': 'string'}, 'end_date': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'default': None}}, 'required': ['region', 'start_date'], 'type': 'object'}}}], 'objects': {}}, 'generation_config': GenerationConfig({'bos_token_id': 151643, 'eos_token_id': [151645, 151643], 'max_new_tokens': 2048, 'pad_token_id': 151643, 'return_dict_in_generate': True, 'stop_words': ['<|endoftext|>', '<|im_end|>']})}
INFO:     127.0.0.1:60738 - "POST /v1/chat/completions HTTP/1.1" 200 OK
[INFO:swift] {'response': '现在的时间是 11:54:18。', 'infer_request': {'messages': [{'content': "\n你是一位擅长应对复杂问题的助手，具备高级推理 能力和信息检索能力。你的任务是理解并拆解用户的问题，积极调用搜索工具获取足够高质量的信息，再进行全面、准确、可信的回答。\n请严格遵循以下规则：\n1. 深度理解问题：理解用户提出的问题核心，可在必要时进行分解、重构或澄清，确保回答覆盖全部用户关心的点；\n2. 充分使用多个搜索工具['get_current_date', 'get_current_time', 'get_auction_price', 'get_factory_prices', 'get_lng_price']，你可以多轮搜索，直到获取充分、权威且相关的信息，避免仅基于初步结果回答；\n3. 高质量整合：结合搜索内容，使用你自己的语言输出结构清晰、信息全面、有逻辑支撑的答案，不要只复述资料，而应体现归纳、比较和推理 能力；\n4. 坦诚应对不确定性：如果在检索中找不到明确答案，应如实说明，并基于现有信息提出合理推测、分析路径或建议；\n6. 鼓励详细阐述：回答时应尽量详尽，包括背景信息、可能的多种观点或方法、优缺点分析等，避免简略回答或仅下结论。\n8. 不要在回答结束时列出所有参考的引用来源。\n    ", 'role': 'system'}, {'content': '现在的具体时间是多少？', 'role': 'user'}, {'content': '<tool_call>\n{"name": "get_current_time", "arguments": {}}\n</tool_call>', 'role': 'assistant', 'tool_calls': [{'type': 'function', 'id': 'toolcall-afa6aed7d6e9493491c9f6ee648a925d', 'function': {'name': 'get_current_time', 'arguments': '{}'}}]}, {'content': '11:54:18', 'role': 'tool', 'tool_call_id': 'toolcall-afa6aed7d6e9493491c9f6ee648a925d'}], 'images': [], 'audios': [], 'videos': [], 'tools': [{'type': 'function', 'function': {'name': 'get_current_date', 'description': '返回今天的日期，格 式为YYYY-MM-DD。', 'parameters': {'properties': {}, 'type': 'object'}}}, {'type': 'function', 'function': {'name': 'get_current_time', 'description': '返回当前时间，格式为HH:MM:SS。', 'parameters': {'properties': {}, 'type': 'object'}}}, {'type': 'function', 'function': {'name': 'get_auction_price', 'description': "获取指定省份在指定日期范围内的原料气竞拍价格。\n返回示例，单位价格是每立方米/元\n{'2025-09-25': 3.06, '2025-09-26': 3.18, '2025-09-27': 3.1}", 'parameters': {'properties': {'province': {'type': 'string'}, 'start_date': {'type': 'string'}, 'end_date': {'type': 'string'}}, 'required': ['province', 'start_date', 'end_date'], 'type': 'object'}}}, {'type': 'function', 'function': {'name': 'get_factory_prices', 'description': "获取指定工厂列表在指定日期范围内的出厂价格，单位每吨/元。\n返回示例输出：\n{'2025-09-25': {'内蒙古工厂A': 6124, '内蒙古工 厂B': 5899}, '2025-09-26': {'内蒙古工厂A': 5898, '内蒙古工厂B': 5919}, '2025-09-27': {'内蒙古工厂A': 6069, '内蒙古工厂B': 6050}}", 'parameters': {'properties': {'factory_names': {'items': {'type': 'string'}, 'type': 'array'}, 'start_date': {'type': 'string'}, 'end_date': {'type': 'string'}}, 'required': ['factory_names', 'start_date', 'end_date'], 'type': 'object'}}}, {'type': 'function', 'function': {'name': 'get_lng_price', 'description': "获取指定地区从 start_date 到 end_date（默认今天）的每日 LNG 价格。\n- 基于月度基准价 + 小幅波动。\n返回示例：\n[{'date': '2025-04-01', 'price': 4.55}, {'date': '2025-04-02', 'price': 4.53}, {'date': '2025-04-03', 'price': 4.55}, {'date': '2025-04-04', 'price': 4.49}, {'date': '2025-04-05', 'price': 4.46}, {'date': '2025-04-06', 'price': 4.53}, {'date': '2025-04-07', 'price': 4.5}]", 'parameters': {'properties': {'region': {'type': 'string'}, 'start_date': {'type': 'string'}, 'end_date': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'default': None}}, 'required': ['region', 'start_date'], 'type': 'object'}}}], 'objects': {}}, 'generation_config': GenerationConfig({'bos_token_id': 151643, 'eos_token_id': [151645, 151643], 'max_new_tokens': 2048, 'pad_token_id': 151643, 'return_dict_in_generate': True, 'stop_words': ['<|endoftext|>', '<|im_end|>']})}